{"version":3,"sources":["main.js","components/_newsletter-submit.js","components/_sidetap.js","components/_sticky-elements.js","components/_swiper.js"],"names":["newsletter_cb","newsletter_script","newsletter_forms","forms","document","getElementsByClassName","head","getElementsByTagName","jsonP","url","input","createElement","src","value","appendChild","NewsletterForm","form","self","this","formurl","getAttribute","button","msg","submit","e","preventDefault","classList","remove","add","addEventListener","length","init","i","data","status","result","resp_msg","resp_class","contains","style","display","split","innerHTML","removeChild","sidetap_link","body","toggle","sticky_elements","Sticky","el","par","parentNode","state","offset_start","ignore_end","prototype","scroll","_this","top","window","pageYOffset","documentElement","scrollTop","scroll_diff","prev_top","el_top","el_start","el_end","requestAnimationFrame","el_scroll_diff","calculate","win_height","innerHeight","body_Rect","getBoundingClientRect","par_rect","el_rect","el_height","offsetHeight","bottom","height","_this2","Swiper","speed","spaceBetween","nextButton","prevButton","pagination","scrollbar"],"mappings":"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","file":"all.js","sourcesContent":["\"use strict\";","/**\n *\n *\tNewsletter Submit\n * \tThis will apply ajax submits to the newsletters\n *\n *  Some mailchip returns:\n *  Object {result: \"error\", msg: \"0 - An email address must contain a single @\"}\n *  main.js:1 Object {result: \"error\", msg: \"0 - The username portion of the email address is invalid (the portion before the @: )\"}\n *  main.js:1 Object {result: \"error\", msg: \"0 - The domain portion of the email address is invalid (the portion after the @: )\"}\n *  main.js:1 Object {result: \"success\", msg: \"Almost finished... We need to confirm your email aâ€¦ase click the link in the email we just sent you.\"}msg: \"Almost finished... We need to confirm your email address. To complete the subscription process, please click the link in the email we just sent you.\"result: \"success\"\n *\n */\n\nvar newsletter_cb = null,\n    newsletter_script = null,\n    newsletter_forms = [];\n\n(function(){\n\n    var forms = document.getElementsByClassName('newsletter__form'),\n        head = document.getElementsByTagName('head')[0],\n        jsonP = function(url, input){\n          newsletter_script = document.createElement('script');\n          newsletter_script.src = url+\n            '&EMAIL='+input[0].value\n          head.appendChild(newsletter_script);\n        },\n        NewsletterForm = function(form){\n\n          var self = this;\n          self.form = form;\n          self.formurl = self.form.getAttribute('action');\n          self.button = self.form.getElementsByClassName('newsletter__submit')[0];\n          self.input = self.form.getElementsByClassName('newsletter__input')[0];\n          self.msg = self.form.getElementsByClassName('newsletter__message')[0];\n          self.submit = function(e){\n\n            // stop default action\n            e.preventDefault();\n\n            // remove all previous states\n            self.form.classList.remove('in-progress');\n            self.form.classList.remove('error');\n            self.form.classList.remove('complete');\n\n            // Set in progress state\n            self.form.classList.add('in-progress');\n\n            // check against mailchimp for validity\n            jsonP(self.formurl, [self.input]);\n\n          }\n\n          self.form.addEventListener('submit', self.submit);\n\n          newsletter_forms[newsletter_forms.length] = self;\n\n        },\n        init = function(){\n            for (var i = 0; i < forms.length; i++) {\n                forms[i] = new NewsletterForm(forms[i]);\n            }\n        };\n\n    /* Validate Request */\n    newsletter_cb = function(data){\n\n        var status = data.result,\n            msg = data.msg,\n            resp_msg = '',\n            resp_class = '';\n\n        for (var i = newsletter_forms.length - 1; i >= 0; i--) {\n            if(newsletter_forms[i].form.classList.contains('in-progress')){\n                var self = newsletter_forms[i];\n                break;\n            }\n        }\n\n        self.msg.style.display = 'inline-block';\n\n        switch (status) {\n          case 'success':\n            resp_msg = '<span class=\"home-box-newsletter-title\"\">Success!</span><br/>'+msg;\n            resp_class = 'complete';\n            break;\n          case 'error':\n            resp_msg = (msg.split(' - '))[1];\n            resp_class = 'error';\n            break;\n          default:\n            resp_msg = ('Oops, something went wrong. Try again later.');\n            resp_class = 'error';\n        }\n\n        self.msg.innerHTML = (resp_msg);\n        self.form.classList.remove('in-progress');\n        self.form.classList.add(resp_class);\n\n        // Clear out script for GC\n        head.removeChild(newsletter_script);\n        newsletter_script = null;\n\n    }\n\n    // init forms logic\n    init();\n\n})();\n","/**\n *\n *  Sidetap\n *  The sidetap JS handles the class toggling of the navigational menu on mobile devices.\n *\n */\n\n(function(){\n\n  var sidetap_link = document.getElementsByClassName('side-tap')[0],\n      body = document.body;\n\n  sidetap_link.addEventListener('click', e => body.classList.toggle('side-tap--open'));\n\n})();\n","/**\n *\n *  Sticky Elements\n *  Sticks the element to the top of the screen relative to the parent and scoll.\n *\n * \tParamaters:\n * \tdata-ignoreend (bool) whether or not the the element should stick even after reaching its parent's end.\n *  data-offsetstart (number) the start offset at which the element should start sticking\n *\n *  Usage:\n *  <div class=\"sticky\" data-offsetstart=\"0\" data-ignoreend=\"false\"></div>\n *\n */\n\n(function(){\n\n  var sticky_elements = document.getElementsByClassName('sticky'),\n      Sticky = function(el){\n        this.el = el;\n        this.par = el.parentNode;\n        this.body = document.body;\n        this.state = -1;\n        this.offset_start = this.el.getAttribute('data-offsetstart') || 0;\n        this.ignore_end = this.el.getAttribute('data-ignoreend') || false;\n        this.init();\n      };\n\n  Sticky.prototype.scroll = function (e) {\n\n    var top = window.pageYOffset || document.documentElement.scrollTop,\n        scroll_diff = top - this.prev_top;\n\n    this.prev_top = top;\n\n    if(this.state !== 1 && top+this.el_top > this.el_start && (top < this.el_end || this.ignore_end)) {\n      this.el_top = 0;\n      this.state = 1;\n      requestAnimationFrame(() => {\n        this.el.classList.remove('sticky--top','sticky--bottom');\n        this.el.classList.add('sticky--middle');\n        this.el.style.top = '0px';\n      });\n    } else if(this.state !== 2 && top+this.el_top >= this.el_end && !this.ignore_end) {\n      this.el_top = 0;\n      this.state = 2;\n      requestAnimationFrame(() => {\n        this.el.classList.remove('sticky--top','sticky--middle');\n        this.el.classList.add('sticky--bottom');\n        this.el.style.top = 'auto';\n      });\n    } else if(top+this.el_top <= this.el_start && this.state !== 0) {\n      this.el_top = 0;\n      this.state = 0;\n      requestAnimationFrame(() => {\n        this.el.classList.remove('sticky--middle','sticky--bottom');\n        this.el.classList.add('sticky--top');\n        this.el.style.top = this.offset_start + 'px';\n      });\n    }\n\n    if(this.state === 1 && this.el_scroll_diff < 0) {\n      if(\n        (this.el_top === 0 && scroll_diff < 0) ||\n        (this.el_top === this.el_scroll_diff && scroll_diff > 0)\n      ) return;\n      this.el_top = this.el_top - scroll_diff;\n      if(this.el_top < this.el_scroll_diff || this.el_top > 0){\n        this.el_top = this.el_top > 0 ? 0 : this.el_scroll_diff;\n      }\n      requestAnimationFrame(() => {\n        this.el.style.top = this.el_top + 'px';\n      });\n    }\n\n  };\n\n  Sticky.prototype.calculate = function () {\n    this.win_height = window.innerHeight;\n    this.body_Rect = this.body.getBoundingClientRect();\n    this.par_rect = this.par.getBoundingClientRect();\n    this.prev_top = 0;\n    this.el_rect = this.el.getBoundingClientRect();\n    this.el_top = 0;\n    this.el_height = this.el.offsetHeight;\n    this.el_scroll_diff = this.win_height - this.el_height;\n    this.el_start = this.par_rect.top - this.body_Rect.top + this.offset_start;\n    this.el_end = this.par_rect.bottom - this.body_Rect.top - this.el_rect.height;\n  };\n\n  Sticky.prototype.init = function () {\n    this.calculate();\n    this.scroll();\n    window.addEventListener('resize', e => this.calculate(e));\n    window.addEventListener('scroll', e => this.scroll(e));\n  };\n\n  for (var i = 0; i < sticky_elements.length; i++)\n    new Sticky(sticky_elements[i]);\n\n})();\n","(function(){\n\n  var mySwiper = new Swiper('.swiper-container', {\n    speed: 400,\n    spaceBetween: 0,\n    nextButton: '.swiper-button-next',\n    prevButton: '.swiper-button-prev',\n    pagination: '.swiper-pagination',\n    scrollbar: '.swiper-scrollbar'\n  });\n\n})();\n"],"sourceRoot":"/source/"}